---
import Layout from '../layouts/Layout.astro';
import Cards from '../components/Cards.svelte';

import type { Repo } from '../lib/types';

const repos: Repo[] = await fetch('https://gh-pinned-repos.egoist.dev/?username=JanotLeLapin').then(data => data.json());
---

<Layout title="Joseph Daly">
	<main class="grid place-items-center h-screen">
    <div class="text-center space-y-2">
      <div class="relative">
        <div class="absolute bg-gray-100 w-full h-full z-10 right-0 mask" />
        <h1 class="bg-clip-text text-transparent pb-4">Joseph Daly</h1>
      </div>
      <h3 class="opacity-0 subtitle">Développeur web fullstack, entre autres.</h3>
    </div>
  </main>
  <article>
    <div class="text-center space-y-2">
      <h2>Mes projets</h2>
      <p>Ce sur quoi je travaille à mes heures perdues.</p>
    </div>
    <Cards {repos} />
    <p class="text-center">...et encore plus sur
      <a class="text-teal-500 underline decoration-2" href="https://github.com/JanotLeLapin" target="_blank" rel="noreferrer">ma page GitHub</a>.
    </p>
  </article>
</Layout>

<style lang="scss">
  $bg: theme('colors.gray.100');
  $background-size: 200%;

  @keyframes title-colors {
    from { background-position: 0% center }
    to { background-position: -$background-size center }
  }

  @keyframes reveal-title {
    from { width: 100% }
    to { width: 0 }
  }

  @keyframes reveal-subtitle {
    from {
      transform: translateY(16px);
      opacity: 0;
    }

    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  h1 {
    animation: title-colors 2s linear infinite;
    background: linear-gradient(
      to right,
      theme('colors.green.500'),
      theme('colors.emerald.500'),
      theme('colors.cyan.500'),
      theme('colors.green.500'),
    );
    background-size: $background-size;
  }

  .mask {
    animation: reveal-title 4s cubic-bezier(.03, .75, .1, .99);
    animation-fill-mode: forwards;
  }

  .subtitle {
    animation: reveal-subtitle 800ms ease-out 2s;
    animation-fill-mode: forwards;
  }

  article {
    > * {
      margin: 4rem 0;
    }
  }
</style>
